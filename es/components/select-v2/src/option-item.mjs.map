{"version":3,"file":"option-item.mjs","sources":["../../../../../../packages/components/select-v2/src/option-item.vue"],"sourcesContent":["<template>\n  <li\n    :id=\"`${contentId}-${index}`\"\n    role=\"option\"\n    :aria-selected=\"selected\"\n    :aria-disabled=\"disabled || undefined\"\n    :style=\"style\"\n    :class=\"[\n      ns.be('dropdown', 'item'),\n      ns.is('selected', selected),\n      ns.is('disabled', disabled),\n      ns.is('created', created),\n      ns.is('hovering', hovering),\n    ]\"\n    @mousemove=\"hoverItem\"\n    @click.stop=\"selectOptionClick\"\n    @mouseenter=\"handleCellMouseEnter\"\n  >\n    <slot :item=\"item\" :index=\"index\" :disabled=\"disabled\">\n      <div class=\"option-wrap\">\n        <el-tooltip\n          ref=\"tooltipRef\"\n          effect=\"light\"\n          :disabled=\"disabled || showTip\"\n          :content=\"getLabel(item)\"\n          placement=\"right\"\n          popper-class=\"optionPopperClass\"\n        >\n          <div class=\"option-wrap-content\">\n            <slot name=\"optionIcon\"></slot>\n            <span\n              class=\"select-label\"\n              :class=\"{ 'select-margin': $slots?.optionIcon }\"\n              >{{ getLabel(item) }}</span\n            >\n          </div>\n        </el-tooltip>\n        <div v-show=\"selected\" class=\"option-wrap-icon\">\n          <el-icon size=\"16px\" color=\"#2A3F4D\"\n            ><svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n            >\n              <path\n                d=\"M5.20006 14.2833C4.97716 14.2834 4.75643 14.2395 4.55052 14.1542C4.3446 14.0688 4.15754 13.9437 4.00006 13.786L0.292725 10.0807L1.70739 8.66665L5.20006 12.1593L14.2927 3.06665L15.7074 4.48065L6.40006 13.786C6.24257 13.9437 6.05552 14.0688 5.8496 14.1542C5.64369 14.2395 5.42296 14.2834 5.20006 14.2833Z\"\n              /></svg\n          ></el-icon>\n        </div>\n      </div>\n    </slot>\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, ref } from 'vue'\nimport {\n  getPadding,\n  isGreaterThan,\n} from '@element-plus/components/table/src/util'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { useNamespace } from '@element-plus/hooks'\nimport { useOption } from './useOption'\nimport { useProps } from './useProps'\nimport { optionV2Emits, optionV2Props } from './defaults'\nimport { selectV2InjectionKey } from './token'\nimport ElIcon from '@element-plus/components/icon'\n\nexport default defineComponent({\n  components: { ElIcon, ElTooltip },\n  props: optionV2Props,\n  emits: optionV2Emits,\n  setup(props, { emit }) {\n    const select = inject(selectV2InjectionKey)!\n    const showTip = ref(true)\n    const ns = useNamespace('select')\n    const { hoverItem, selectOptionClick } = useOption(props, { emit })\n    const { getLabel } = useProps(select.props)\n    const contentId = select.contentId\n    const handleCellMouseEnter = (event: MouseEvent) => {\n      const cellChild = (event.target as HTMLElement).querySelector(\n        '.option-wrap-content'\n      ) as HTMLElement\n      if (!cellChild) return\n      if (cellChild && !cellChild?.childNodes.length) {\n        showTip.value = false\n        return\n      }\n\n      const range = document.createRange()\n      range.setStart(cellChild, 0)\n      range.setEnd(cellChild, cellChild.childNodes.length)\n      const { width: rangeWidth, height: rangeHeight } =\n        range.getBoundingClientRect()\n      const { width: cellChildWidth, height: cellChildHeight } =\n        cellChild.getBoundingClientRect()\n\n      const { top, left, right, bottom } = getPadding(cellChild)\n      const horizontalPadding = left + right\n      const verticalPadding = top + bottom\n      showTip.value = !(\n        isGreaterThan(rangeWidth + horizontalPadding, cellChildWidth) ||\n        isGreaterThan(rangeHeight + verticalPadding, cellChildHeight) ||\n        isGreaterThan(cellChild.scrollWidth, cellChildWidth)\n      )\n    }\n    return {\n      ns,\n      contentId,\n      showTip,\n      hoverItem,\n      selectOptionClick,\n      getLabel,\n      handleCellMouseEnter,\n    }\n  },\n})\n</script>\n"],"names":["_normalizeClass","_withModifiers","_renderSlot","_createElementVNode","_createVNode","_withCtx","_toDisplayString","_withDirectives","_openBlock","_createElementBlock","_vShow"],"mappings":"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"}